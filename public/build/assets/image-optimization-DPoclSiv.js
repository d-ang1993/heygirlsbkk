function o(){const t=window.devicePixelRatio||1;document.cookie=`devicePixelRatio=${t}; path=/; max-age=31536000`}document.addEventListener("DOMContentLoaded",function(){if(o(),"IntersectionObserver"in window){const t=new IntersectionObserver((e,a)=>{e.forEach(n=>{if(n.isIntersecting){const i=n.target;i.addEventListener("load",function(){i.style.opacity="1",i.style.transition="opacity 0.3s ease"}),a.unobserve(i)}})},{rootMargin:"50px 0px",threshold:.01});document.querySelectorAll('img[loading="lazy"]').forEach(e=>{e.style.opacity="0",t.observe(e)})}});function c(t){const e=document.createElement("link");e.rel="preload",e.as="image",e.href=t,document.head.appendChild(e)}window.ImageOptimization={detectDevicePixelRatio:o,preloadImage:c};
